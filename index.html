<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>.mcstructure Generator</title>
  <script src="https://cdn.jsdelivr.net/npm/nbt-js@1.1.3/dist/nbt.min.js"></script>
</head>
<body>
  <h1>Download JSON as .mcstructure</h1>

  <textarea id="input" style="width:100%;height:300px;">
<!-- Paste your JSON here -->
  </textarea>

  <br>
  <button onclick="downloadStructure()">Download .mcstructure</button>

  <script>
    function downloadStructure() {
      let json;
      try {
        json = JSON.parse(document.getElementById('input').value);
      } catch (e) {
        alert("Invalid JSON");
        return;
      }

      try {
        const buffer = NBT.writeUncompressed(json, 'little');
        const blob = new Blob([buffer], { type: 'application/octet-stream' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = "structure.mcstructure";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      } catch (err) {
        alert("Failed to convert to .mcstructure:\n" + err.message);
      }
    }
  </script>
</body>
</html>
